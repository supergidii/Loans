{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/UPFRONT/Documents/newprol/src/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/UPFRONT/Documents/newprol/src/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/web.timers.js\";\nimport { ref, computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'ReferralLink',\n  setup: function setup() {\n    var store = useStore();\n    var loading = ref(false);\n    var error = ref(null);\n    var copied = ref(false);\n    var referralInput = ref(null);\n    var referralCode = computed(function () {\n      return store.state.referrals.referralCode;\n    });\n    var referralStats = computed(function () {\n      return store.state.referrals.referralStats;\n    });\n    var referralLink = computed(function () {\n      if (!referralCode.value) return '';\n      var baseUrl = window.location.origin;\n      return \"\".concat(baseUrl, \"/register?ref=\").concat(referralCode.value);\n    });\n    var copyToClipboard = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return navigator.clipboard.writeText(referralLink.value);\n            case 3:\n              copied.value = true;\n              setTimeout(function () {\n                copied.value = false;\n              }, 2000);\n              _context.next = 11;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('Failed to copy:', _context.t0);\n              error.value = 'Failed to copy to clipboard';\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 7]]);\n      }));\n      return function copyToClipboard() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var shareOnWhatsApp = function shareOnWhatsApp() {\n      var text = \"Join me on our investment platform! Use my referral link: \".concat(referralLink.value);\n      var url = \"https://wa.me/?text=\".concat(encodeURIComponent(text));\n      window.open(url, '_blank');\n    };\n    var shareOnTelegram = function shareOnTelegram() {\n      var text = \"Join me on our investment platform! Use my referral link: \".concat(referralLink.value);\n      var url = \"https://t.me/share/url?url=\".concat(encodeURIComponent(referralLink.value), \"&text=\").concat(encodeURIComponent(text));\n      window.open(url, '_blank');\n    };\n    var fetchReferralData = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              loading.value = true;\n              error.value = null;\n              if (referralCode.value) {\n                _context2.next = 6;\n                break;\n              }\n              _context2.next = 6;\n              return store.dispatch('referrals/generateReferralCode');\n            case 6:\n              _context2.next = 8;\n              return store.dispatch('referrals/fetchReferralStats');\n            case 8:\n              _context2.next = 14;\n              break;\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error('Error fetching referral data:', _context2.t0);\n              error.value = 'Failed to load referral data';\n            case 14:\n              _context2.prev = 14;\n              loading.value = false;\n              return _context2.finish(14);\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 10, 14, 17]]);\n      }));\n      return function fetchReferralData() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    onMounted(function () {\n      fetchReferralData();\n    });\n    return {\n      loading: loading,\n      error: error,\n      copied: copied,\n      referralInput: referralInput,\n      referralLink: referralLink,\n      referralStats: referralStats,\n      copyToClipboard: copyToClipboard,\n      shareOnWhatsApp: shareOnWhatsApp,\n      shareOnTelegram: shareOnTelegram\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","useStore","name","setup","store","loading","error","copied","referralInput","referralCode","state","referrals","referralStats","referralLink","value","baseUrl","window","location","origin","concat","copyToClipboard","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","navigator","clipboard","writeText","setTimeout","t0","console","stop","apply","arguments","shareOnWhatsApp","text","url","encodeURIComponent","open","shareOnTelegram","fetchReferralData","_ref2","_callee2","_callee2$","_context2","dispatch","finish"],"sources":["C:\\Users\\UPFRONT\\Documents\\newprol\\src\\frontend\\src\\components\\ReferralLink.vue"],"sourcesContent":["<template>\r\n  <div class=\"referral-link-container\">\r\n    <h2>Your Referral Link</h2>\r\n    \r\n    <div v-if=\"loading\" class=\"loading\">\r\n      Loading referral code...\r\n    </div>\r\n    \r\n    <div v-else-if=\"error\" class=\"error\">\r\n      {{ error }}\r\n    </div>\r\n    \r\n    <div v-else class=\"referral-content\">\r\n      <div class=\"referral-code\">\r\n        <input \r\n          type=\"text\" \r\n          :value=\"referralLink\" \r\n          readonly \r\n          ref=\"referralInput\"\r\n          class=\"referral-input\"\r\n        />\r\n        <button \r\n          @click=\"copyToClipboard\" \r\n          class=\"copy-button\"\r\n          :class=\"{ 'copied': copied }\"\r\n        >\r\n          {{ copied ? 'Copied!' : 'Copy' }}\r\n        </button>\r\n      </div>\r\n      \r\n      <div class=\"referral-stats\" v-if=\"referralStats\">\r\n        <div class=\"stat-card\">\r\n          <h4>Total Referrals</h4>\r\n          <p>{{ referralStats.totalReferrals }}</p>\r\n        </div>\r\n        <div class=\"stat-card\">\r\n          <h4>Active Referrals</h4>\r\n          <p>{{ referralStats.activeReferrals }}</p>\r\n        </div>\r\n        <div class=\"stat-card\">\r\n          <h4>Total Earnings</h4>\r\n          <p>${{ referralStats.totalEarnings.toFixed(2) }}</p>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"share-buttons\">\r\n        <button @click=\"shareOnWhatsApp\" class=\"share-button whatsapp\">\r\n          Share on WhatsApp\r\n        </button>\r\n        <button @click=\"shareOnTelegram\" class=\"share-button telegram\">\r\n          Share on Telegram\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n  name: 'ReferralLink',\r\n  setup() {\r\n    const store = useStore()\r\n    const loading = ref(false)\r\n    const error = ref(null)\r\n    const copied = ref(false)\r\n    const referralInput = ref(null)\r\n\r\n    const referralCode = computed(() => store.state.referrals.referralCode)\r\n    const referralStats = computed(() => store.state.referrals.referralStats)\r\n    \r\n    const referralLink = computed(() => {\r\n      if (!referralCode.value) return ''\r\n      const baseUrl = window.location.origin\r\n      return `${baseUrl}/register?ref=${referralCode.value}`\r\n    })\r\n\r\n    const copyToClipboard = async () => {\r\n      try {\r\n        await navigator.clipboard.writeText(referralLink.value)\r\n        copied.value = true\r\n        setTimeout(() => {\r\n          copied.value = false\r\n        }, 2000)\r\n      } catch (err) {\r\n        console.error('Failed to copy:', err)\r\n        error.value = 'Failed to copy to clipboard'\r\n      }\r\n    }\r\n\r\n    const shareOnWhatsApp = () => {\r\n      const text = `Join me on our investment platform! Use my referral link: ${referralLink.value}`\r\n      const url = `https://wa.me/?text=${encodeURIComponent(text)}`\r\n      window.open(url, '_blank')\r\n    }\r\n\r\n    const shareOnTelegram = () => {\r\n      const text = `Join me on our investment platform! Use my referral link: ${referralLink.value}`\r\n      const url = `https://t.me/share/url?url=${encodeURIComponent(referralLink.value)}&text=${encodeURIComponent(text)}`\r\n      window.open(url, '_blank')\r\n    }\r\n\r\n    const fetchReferralData = async () => {\r\n      try {\r\n        loading.value = true\r\n        error.value = null\r\n        \r\n        if (!referralCode.value) {\r\n          await store.dispatch('referrals/generateReferralCode')\r\n        }\r\n        await store.dispatch('referrals/fetchReferralStats')\r\n      } catch (err) {\r\n        console.error('Error fetching referral data:', err)\r\n        error.value = 'Failed to load referral data'\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n\r\n    onMounted(() => {\r\n      fetchReferralData()\r\n    })\r\n\r\n    return {\r\n      loading,\r\n      error,\r\n      copied,\r\n      referralInput,\r\n      referralLink,\r\n      referralStats,\r\n      copyToClipboard,\r\n      shareOnWhatsApp,\r\n      shareOnTelegram\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.referral-link-container {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\nh2 {\r\n  color: #2c3e50;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.loading, .error {\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: #666;\r\n}\r\n\r\n.error {\r\n  color: #dc3545;\r\n}\r\n\r\n.referral-content {\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.referral-code {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.referral-input {\r\n  flex: 1;\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n  background: #f8f9fa;\r\n}\r\n\r\n.copy-button {\r\n  padding: 10px 20px;\r\n  background: #4CAF50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.copy-button:hover {\r\n  background: #45a049;\r\n}\r\n\r\n.copy-button.copied {\r\n  background: #2196F3;\r\n}\r\n\r\n.referral-stats {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 20px;\r\n  margin: 20px 0;\r\n}\r\n\r\n.stat-card {\r\n  background: #f8f9fa;\r\n  padding: 15px;\r\n  border-radius: 4px;\r\n  text-align: center;\r\n}\r\n\r\n.stat-card h4 {\r\n  margin: 0 0 10px 0;\r\n  color: #666;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.stat-card p {\r\n  margin: 0;\r\n  font-size: 1.5em;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n.share-buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.share-button {\r\n  flex: 1;\r\n  padding: 10px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  color: white;\r\n  cursor: pointer;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.share-button:hover {\r\n  opacity: 0.9;\r\n}\r\n\r\n.whatsapp {\r\n  background: #25D366;\r\n}\r\n\r\n.telegram {\r\n  background: #0088cc;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}