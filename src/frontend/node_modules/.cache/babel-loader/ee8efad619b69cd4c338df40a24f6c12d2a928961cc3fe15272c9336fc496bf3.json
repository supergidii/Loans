{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/UPFRONT/Documents/newprol/src/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/UPFRONT/Documents/newprol/src/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'InvestmentList',\n  setup: function setup() {\n    var store = useStore();\n    var investments = computed(function () {\n      return store.state.investments.investments || [];\n    });\n    var loading = computed(function () {\n      return store.state.investments.loading;\n    });\n    var error = computed(function () {\n      return store.state.investments.error;\n    });\n    var totalInvested = computed(function () {\n      if (!investments.value) return '0.00';\n      return investments.value.reduce(function (sum, inv) {\n        return sum + (inv.amount || 0);\n      }, 0).toFixed(2);\n    });\n    var totalExpectedReturns = computed(function () {\n      if (!investments.value) return '0.00';\n      return investments.value.reduce(function (sum, inv) {\n        return sum + (inv.expectedReturn || 0);\n      }, 0).toFixed(2);\n    });\n    var activeInvestments = computed(function () {\n      if (!investments.value) return 0;\n      return investments.value.filter(function (inv) {\n        return inv.status.toLowerCase() === 'active';\n      }).length;\n    });\n    var confirmInvestment = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(investmentId) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return store.dispatch('investments/confirmInvestment', investmentId);\n            case 3:\n              _context.next = 5;\n              return store.dispatch('investments/fetchInvestments');\n            case 5:\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('Failed to confirm investment:', _context.t0);\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 7]]);\n      }));\n      return function confirmInvestment(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    onMounted(function () {\n      store.dispatch('investments/fetchInvestments');\n    });\n    return {\n      investments: investments,\n      loading: loading,\n      error: error,\n      totalInvested: totalInvested,\n      totalExpectedReturns: totalExpectedReturns,\n      activeInvestments: activeInvestments,\n      confirmInvestment: confirmInvestment\n    };\n  }\n};","map":{"version":3,"names":["computed","onMounted","useStore","name","setup","store","investments","state","loading","error","totalInvested","value","reduce","sum","inv","amount","toFixed","totalExpectedReturns","expectedReturn","activeInvestments","filter","status","toLowerCase","length","confirmInvestment","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","investmentId","wrap","_callee$","_context","prev","next","dispatch","t0","console","stop","_x","apply","arguments"],"sources":["C:\\Users\\UPFRONT\\Documents\\newprol\\src\\frontend\\src\\components\\InvestmentList.vue"],"sourcesContent":["<template>\r\n  <div class=\"investment-list\">\r\n    <h2>Your Investments</h2>\r\n    \r\n    <div v-if=\"loading\" class=\"loading\">\r\n      Loading investments...\r\n    </div>\r\n    \r\n    <div v-else-if=\"error\" class=\"error\">\r\n      {{ error }}\r\n    </div>\r\n    \r\n    <div v-else-if=\"investments.length === 0\" class=\"no-investments\">\r\n      No investments found. Start investing today!\r\n    </div>\r\n    \r\n    <div v-else class=\"table-container\">\r\n      <table class=\"investments-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Username</th>\r\n            <th>Expected Return</th>\r\n            <th>Start Date</th>\r\n            <th>End Date</th>\r\n            <th>Status</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"investment in investments\" :key=\"investment._id\">\r\n            <td>{{ investment.user?.username || 'N/A' }}</td>\r\n            <td>${{ investment.expectedReturn.toFixed(2) }}</td>\r\n            <td>{{ new Date(investment.startDate).toLocaleDateString() }}</td>\r\n            <td>{{ new Date(investment.endDate).toLocaleDateString() }}</td>\r\n            <td>\r\n              <span :class=\"['status-badge', investment.status.toLowerCase()]\">\r\n                {{ investment.status }}\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <button \r\n                v-if=\"investment.status === 'pending'\"\r\n                @click=\"confirmInvestment(investment._id)\"\r\n                class=\"confirm-btn\"\r\n                :disabled=\"loading\"\r\n              >\r\n                Confirm\r\n              </button>\r\n              <span v-else>-</span>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div class=\"investment-stats\" v-if=\"investments && investments.length > 0\">\r\n      <h3>Investment Statistics</h3>\r\n      <div class=\"stats-grid\">\r\n        <div class=\"stat-card\">\r\n          <h4>Total Invested</h4>\r\n          <p>${{ totalInvested }}</p>\r\n        </div>\r\n        <div class=\"stat-card\">\r\n          <h4>Expected Returns</h4>\r\n          <p>${{ totalExpectedReturns }}</p>\r\n        </div>\r\n        <div class=\"stat-card\">\r\n          <h4>Active Investments</h4>\r\n          <p>{{ activeInvestments }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n  name: 'InvestmentList',\r\n  setup() {\r\n    const store = useStore()\r\n\r\n    const investments = computed(() => store.state.investments.investments || [])\r\n    const loading = computed(() => store.state.investments.loading)\r\n    const error = computed(() => store.state.investments.error)\r\n\r\n    const totalInvested = computed(() => {\r\n      if (!investments.value) return '0.00'\r\n      return investments.value.reduce((sum, inv) => sum + (inv.amount || 0), 0).toFixed(2)\r\n    })\r\n\r\n    const totalExpectedReturns = computed(() => {\r\n      if (!investments.value) return '0.00'\r\n      return investments.value.reduce((sum, inv) => sum + (inv.expectedReturn || 0), 0).toFixed(2)\r\n    })\r\n\r\n    const activeInvestments = computed(() => {\r\n      if (!investments.value) return 0\r\n      return investments.value.filter(inv => inv.status.toLowerCase() === 'active').length\r\n    })\r\n\r\n    const confirmInvestment = async (investmentId) => {\r\n      try {\r\n        await store.dispatch('investments/confirmInvestment', investmentId)\r\n        // Refresh the investments list after confirmation\r\n        await store.dispatch('investments/fetchInvestments')\r\n      } catch (error) {\r\n        console.error('Failed to confirm investment:', error)\r\n      }\r\n    }\r\n\r\n    onMounted(() => {\r\n      store.dispatch('investments/fetchInvestments')\r\n    })\r\n\r\n    return {\r\n      investments,\r\n      loading,\r\n      error,\r\n      totalInvested,\r\n      totalExpectedReturns,\r\n      activeInvestments,\r\n      confirmInvestment\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.investment-list {\r\n  padding: 20px;\r\n}\r\n\r\n.loading, .error, .no-investments {\r\n  text-align: center;\r\n  padding: 20px;\r\n  font-size: 1.1em;\r\n}\r\n\r\n.error {\r\n  color: #dc3545;\r\n}\r\n\r\n.table-container {\r\n  overflow-x: auto;\r\n  margin-top: 20px;\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.investments-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  min-width: 800px;\r\n}\r\n\r\n.investments-table th,\r\n.investments-table td {\r\n  padding: 12px 16px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #e5e7eb;\r\n}\r\n\r\n.investments-table th {\r\n  background-color: #f9fafb;\r\n  font-weight: 600;\r\n  color: #374151;\r\n}\r\n\r\n.investments-table tr:hover {\r\n  background-color: #f9fafb;\r\n}\r\n\r\n.status-badge {\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  font-size: 0.9em;\r\n  font-weight: 500;\r\n  display: inline-block;\r\n}\r\n\r\n.status-badge.active {\r\n  background-color: #e3fcef;\r\n  color: #0a6c3b;\r\n}\r\n\r\n.status-badge.completed {\r\n  background-color: #e7f5ff;\r\n  color: #0c63e4;\r\n}\r\n\r\n.status-badge.cancelled {\r\n  background-color: #fee2e2;\r\n  color: #dc2626;\r\n}\r\n\r\n.status-badge.pending {\r\n  background-color: #fff7ed;\r\n  color: #c2410c;\r\n}\r\n\r\n.confirm-btn {\r\n  background-color: #10b981;\r\n  color: white;\r\n  border: none;\r\n  padding: 6px 12px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.confirm-btn:hover {\r\n  background-color: #059669;\r\n}\r\n\r\n.confirm-btn:disabled {\r\n  background-color: #9ca3af;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.investment-stats {\r\n  margin-top: 40px;\r\n}\r\n\r\n.stats-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 20px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.stat-card {\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n}\r\n\r\n.stat-card h4 {\r\n  margin: 0 0 10px 0;\r\n  color: #6b7280;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.stat-card p {\r\n  margin: 0;\r\n  font-size: 1.5em;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n</style> "],"mappings":";;;;;;;;;AA4EA,SAASA,QAAQ,EAAEC,SAAQ,QAAS,KAAI;AACxC,SAASC,QAAO,QAAS,MAAK;AAE9B,eAAe;EACbC,IAAI,EAAE,gBAAgB;EACtBC,KAAK,WAALA,KAAKA,CAAA,EAAG;IACN,IAAMC,KAAI,GAAIH,QAAQ,CAAC;IAEvB,IAAMI,WAAU,GAAIN,QAAQ,CAAC;MAAA,OAAMK,KAAK,CAACE,KAAK,CAACD,WAAW,CAACA,WAAU,IAAK,EAAE;IAAA;IAC5E,IAAME,OAAM,GAAIR,QAAQ,CAAC;MAAA,OAAMK,KAAK,CAACE,KAAK,CAACD,WAAW,CAACE,OAAO;IAAA;IAC9D,IAAMC,KAAI,GAAIT,QAAQ,CAAC;MAAA,OAAMK,KAAK,CAACE,KAAK,CAACD,WAAW,CAACG,KAAK;IAAA;IAE1D,IAAMC,aAAY,GAAIV,QAAQ,CAAC,YAAM;MACnC,IAAI,CAACM,WAAW,CAACK,KAAK,EAAE,OAAO,MAAK;MACpC,OAAOL,WAAW,CAACK,KAAK,CAACC,MAAM,CAAC,UAACC,GAAG,EAAEC,GAAG;QAAA,OAAKD,GAAE,IAAKC,GAAG,CAACC,MAAK,IAAK,CAAC,CAAC;MAAA,GAAE,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;IACrF,CAAC;IAED,IAAMC,oBAAmB,GAAIjB,QAAQ,CAAC,YAAM;MAC1C,IAAI,CAACM,WAAW,CAACK,KAAK,EAAE,OAAO,MAAK;MACpC,OAAOL,WAAW,CAACK,KAAK,CAACC,MAAM,CAAC,UAACC,GAAG,EAAEC,GAAG;QAAA,OAAKD,GAAE,IAAKC,GAAG,CAACI,cAAa,IAAK,CAAC,CAAC;MAAA,GAAE,CAAC,CAAC,CAACF,OAAO,CAAC,CAAC;IAC7F,CAAC;IAED,IAAMG,iBAAgB,GAAInB,QAAQ,CAAC,YAAM;MACvC,IAAI,CAACM,WAAW,CAACK,KAAK,EAAE,OAAO;MAC/B,OAAOL,WAAW,CAACK,KAAK,CAACS,MAAM,CAAC,UAAAN,GAAE;QAAA,OAAKA,GAAG,CAACO,MAAM,CAACC,WAAW,CAAC,MAAM,QAAQ;MAAA,EAAC,CAACC,MAAK;IACrF,CAAC;IAED,IAAMC,iBAAgB;MAAA,IAAAC,IAAA,GAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAI,SAAAC,QAAOC,YAAY;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEnC9B,KAAK,CAAC+B,QAAQ,CAAC,+BAA+B,EAAEN,YAAY;YAAA;cAAAG,QAAA,CAAAE,IAAA;cAAA,OAE5D9B,KAAK,CAAC+B,QAAQ,CAAC,8BAA8B;YAAA;cAAAH,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAI,EAAA,GAAAJ,QAAA;cAEnDK,OAAO,CAAC7B,KAAK,CAAC,+BAA+B,EAAAwB,QAAA,CAAAI,EAAO;YAAA;YAAA;cAAA,OAAAJ,QAAA,CAAAM,IAAA;UAAA;QAAA,GAAAV,OAAA;MAAA,CAExD;MAAA,gBARML,iBAAgBA,CAAAgB,EAAA;QAAA,OAAAf,IAAA,CAAAgB,KAAA,OAAAC,SAAA;MAAA;IAAA,GAQtB;IAEAzC,SAAS,CAAC,YAAM;MACdI,KAAK,CAAC+B,QAAQ,CAAC,8BAA8B;IAC/C,CAAC;IAED,OAAO;MACL9B,WAAW,EAAXA,WAAW;MACXE,OAAO,EAAPA,OAAO;MACPC,KAAK,EAALA,KAAK;MACLC,aAAa,EAAbA,aAAa;MACbO,oBAAoB,EAApBA,oBAAoB;MACpBE,iBAAiB,EAAjBA,iBAAiB;MACjBK,iBAAgB,EAAhBA;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}