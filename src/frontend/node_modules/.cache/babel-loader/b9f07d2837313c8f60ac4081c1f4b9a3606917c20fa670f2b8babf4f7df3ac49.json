{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/UPFRONT/Documents/newprol/src/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/UPFRONT/Documents/newprol/src/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.parse-float.js\";\nimport { ref, computed } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'InvestmentForm',\n  setup: function setup() {\n    var store = useStore();\n    var formData = ref({\n      amount: '',\n      duration: ''\n    });\n    var errors = ref({});\n    var loading = ref(false);\n    var error = ref(null);\n    var interestRate = 10; // Default interest rate\n\n    var expectedReturn = computed(function () {\n      if (!formData.value.amount || !formData.value.duration) return 0;\n      var principal = parseFloat(formData.value.amount);\n      var days = parseFloat(formData.value.duration);\n      var interest = principal * interestRate * days / (365 * 100);\n      return (principal + interest).toFixed(2);\n    });\n    var validateForm = function validateForm() {\n      errors.value = {};\n      if (!formData.value.amount || formData.value.amount < 100) {\n        errors.value.amount = 'Investment amount must be at least $100';\n      }\n      if (!formData.value.duration || formData.value.duration < 30 || formData.value.duration > 365) {\n        errors.value.duration = 'Duration must be between 30 and 365 days';\n      }\n      return Object.keys(errors.value).length === 0;\n    };\n    var createInvestment = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _err$response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (validateForm()) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              loading.value = true;\n              error.value = null;\n              _context.prev = 4;\n              _context.next = 7;\n              return store.dispatch('investments/createInvestment', formData.value);\n            case 7:\n              formData.value = {\n                amount: '',\n                duration: ''\n              };\n              store.dispatch('investments/fetchInvestments');\n              _context.next = 14;\n              break;\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](4);\n              error.value = ((_err$response = _context.t0.response) === null || _err$response === void 0 || (_err$response = _err$response.data) === null || _err$response === void 0 ? void 0 : _err$response.error) || 'Failed to create investment';\n            case 14:\n              _context.prev = 14;\n              loading.value = false;\n              return _context.finish(14);\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[4, 11, 14, 17]]);\n      }));\n      return function createInvestment() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    return {\n      formData: formData,\n      errors: errors,\n      loading: loading,\n      error: error,\n      interestRate: interestRate,\n      expectedReturn: expectedReturn,\n      createInvestment: createInvestment\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","useStore","name","setup","store","formData","amount","duration","errors","loading","error","interestRate","expectedReturn","value","principal","parseFloat","days","interest","toFixed","validateForm","Object","keys","length","createInvestment","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_err$response","wrap","_callee$","_context","prev","next","abrupt","dispatch","t0","response","data","finish","stop","apply","arguments"],"sources":["C:\\Users\\UPFRONT\\Documents\\newprol\\src\\frontend\\src\\components\\InvestmentForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"investment-form\">\r\n    <form @submit.prevent=\"createInvestment\" class=\"form\">\r\n      <div class=\"form-group\">\r\n        <label for=\"amount\">Investment Amount ($)</label>\r\n        <input\r\n          type=\"number\"\r\n          id=\"amount\"\r\n          v-model=\"formData.amount\"\r\n          min=\"100\"\r\n          required\r\n          class=\"form-control\"\r\n          :class=\"{ 'is-invalid': errors.amount }\"\r\n        />\r\n        <div class=\"invalid-feedback\" v-if=\"errors.amount\">\r\n          {{ errors.amount }}\r\n        </div>\r\n        <small class=\"text-muted\">Minimum investment: $100</small>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"duration\">Duration (days)</label>\r\n        <input\r\n          type=\"number\"\r\n          id=\"duration\"\r\n          v-model=\"formData.duration\"\r\n          min=\"30\"\r\n          max=\"365\"\r\n          required\r\n          class=\"form-control\"\r\n          :class=\"{ 'is-invalid': errors.duration }\"\r\n        />\r\n        <div class=\"invalid-feedback\" v-if=\"errors.duration\">\r\n          {{ errors.duration }}\r\n        </div>\r\n        <small class=\"text-muted\">Duration between 30 and 365 days</small>\r\n      </div>\r\n\r\n      <div class=\"investment-summary\" v-if=\"formData.amount && formData.duration\">\r\n        <h3>Investment Summary</h3>\r\n        <p>Amount: ${{ formData.amount }}</p>\r\n        <p>Duration: {{ formData.duration }} days</p>\r\n        <p>Interest Rate: {{ interestRate }}%</p>\r\n        <p>Expected Return: ${{ expectedReturn }}</p>\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\r\n        {{ loading ? 'Creating Investment...' : 'Create Investment' }}\r\n      </button>\r\n    </form>\r\n\r\n    <div v-if=\"error\" class=\"alert alert-danger mt-3\">\r\n      {{ error }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n  name: 'InvestmentForm',\r\n  setup() {\r\n    const store = useStore()\r\n    const formData = ref({\r\n      amount: '',\r\n      duration: ''\r\n    })\r\n    const errors = ref({})\r\n    const loading = ref(false)\r\n    const error = ref(null)\r\n    const interestRate = 10 // Default interest rate\r\n\r\n    const expectedReturn = computed(() => {\r\n      if (!formData.value.amount || !formData.value.duration) return 0\r\n      const principal = parseFloat(formData.value.amount)\r\n      const days = parseFloat(formData.value.duration)\r\n      const interest = (principal * interestRate * days) / (365 * 100)\r\n      return (principal + interest).toFixed(2)\r\n    })\r\n\r\n    const validateForm = () => {\r\n      errors.value = {}\r\n      if (!formData.value.amount || formData.value.amount < 100) {\r\n        errors.value.amount = 'Investment amount must be at least $100'\r\n      }\r\n      if (!formData.value.duration || formData.value.duration < 30 || formData.value.duration > 365) {\r\n        errors.value.duration = 'Duration must be between 30 and 365 days'\r\n      }\r\n      return Object.keys(errors.value).length === 0\r\n    }\r\n\r\n    const createInvestment = async () => {\r\n      if (!validateForm()) return\r\n\r\n      loading.value = true\r\n      error.value = null\r\n\r\n      try {\r\n        await store.dispatch('investments/createInvestment', formData.value)\r\n        formData.value = { amount: '', duration: '' }\r\n        store.dispatch('investments/fetchInvestments')\r\n      } catch (err) {\r\n        error.value = err.response?.data?.error || 'Failed to create investment'\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n\r\n    return {\r\n      formData,\r\n      errors,\r\n      loading,\r\n      error,\r\n      interestRate,\r\n      expectedReturn,\r\n      createInvestment\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.investment-form {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.form-control {\r\n  width: 100%;\r\n  padding: 0.5rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n\r\n.investment-summary {\r\n  background-color: #f8f9fa;\r\n  padding: 1rem;\r\n  border-radius: 4px;\r\n  margin: 1rem 0;\r\n}\r\n\r\n.btn-primary {\r\n  background-color: #007bff;\r\n  color: white;\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-primary:disabled {\r\n  background-color: #ccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.alert-danger {\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n  padding: 0.75rem;\r\n  border-radius: 4px;\r\n  margin-top: 1rem;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}